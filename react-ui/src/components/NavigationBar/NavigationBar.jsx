import React from 'react';
import { BottomNavigation, BottomNavigationAction, SvgIcon } from '@material-ui/core';
import RestoreIcon from '@material-ui/icons/Restore';

import api from '../api';
import './NavigationBar.css';

export default class NavigationBar extends React.Component {

    constructor(props) {
        super(props);
        this.state = {
            value: this.props.default
        };
        this.icons = [
            {
                label: 'Switch',
                value: api.platform.switch,
                icon: <SvgIcon><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 482.88 482.98"><title>nswitchLogo</title><path d="M296.5,210.11c-48.1,8.6-86.8,44.2-99,91-4.4,16.9-4.7,26.8-4.2,157.9.3,120.4.4,123.2,2.4,132.5,11.1,50.1,46.7,85.8,97.3,97.6,6.6,1.5,15,1.8,69.1,2.1,56,.4,61.8.3,63.3-1.2s1.6-20.8,1.6-239.6c0-162.2-.3-238.6-1-240-1-1.8-2.7-1.9-61.3-1.8C317.1,208.71,302.8,209,296.5,210.11Zm90.5,240v202.6l-40.7-.5c-37.5-.4-41.5-.6-49-2.5-32.2-8.3-56.1-33.1-62.8-65.4-2.2-10.1-2.2-258.9-.1-268.8a85.88,85.88,0,0,1,51.8-61.9c13.2-5.3,19.3-5.9,62.1-6l38.7-.1Z" transform="translate(-193.12 -208.51)" /><path d="M305.1,308.61c-6.3,1.2-15.9,6-21,10.5-10.5,9.1-15.7,22-14.9,37.2.4,7.9.9,10,4.1,16.4a45.54,45.54,0,0,0,21.5,21.6c6.7,3.3,8.4,3.7,17.1,4,7.9.3,10.7,0,16-1.8,21.7-7.3,34.8-28.4,31.1-50C354.7,320.81,330.3,303.61,305.1,308.61Z" transform="translate(-193.12 -208.51)" /><path d="M475.7,209.21c-.4.3-.7,108.7-.7,240.9,0,218.1.1,240.2,1.6,240.8,2.7,1,80.3.6,89.9-.4,40.6-4.6,76.4-29.3,95.9-66a148.57,148.57,0,0,0,7.5-17.5c6.3-18.8,6.1-13.8,6.1-157.5,0-114.7-.2-131.8-1.6-139.1-9.9-52.1-49.6-91.4-101.8-100.4-7-1.2-17.8-1.5-52.6-1.5C496,208.51,476,208.81,475.7,209.21ZM582.5,427a48.92,48.92,0,0,1,33.6,31.2c3.3,9.4,3.2,23.2-.1,31.8-6.1,15.8-18.1,26.9-33.5,31-25,6.5-51.6-8.6-58.9-33.4-2.2-7.6-2.1-20.4.4-28.2C531.5,434.91,557.5,420.51,582.5,427Z" transform="translate(-193.12 -208.51)" /></svg></SvgIcon>
            },
            {
                label: 'PS4',
                value: api.platform.ps4,
                icon: <SvgIcon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 106.83 82.43"><title>playstation-4-seeklogo.com</title><g id="Layer_3" data-name="Layer 3"><path d="M264.93,264.55a.33.33,0,0,1-.14-.2c0-.07,0-.18,0-.34l0-.58a1,1,0,0,0-.16-.61.92.92,0,0,0-.26-.22,1.52,1.52,0,0,0,.34-.33,1.22,1.22,0,0,0,.18-.69,1.13,1.13,0,0,0-.67-1.12,2,2,0,0,0-.86-.15h-2.11v4.53H262V263h1.23a1.37,1.37,0,0,1,.49.07.51.51,0,0,1,.25.49l0,.72c0,.17,0,.29,0,.36a.67.67,0,0,0,.06.17l0,0H265v-.26Zm-1.1-2.39a1.11,1.11,0,0,1-.6.14H262V261h1.33a1,1,0,0,1,.44.08.54.54,0,0,1,.28.54A.64.64,0,0,1,263.83,262.16Z" transform="translate(-162.58 -184.44)" /><path d="M265.81,259.78a4.07,4.07,0,1,0,0,5.76,4.1,4.1,0,0,0,0-5.76ZM262.92,266a3.3,3.3,0,0,1-2.39-1,3.39,3.39,0,0,1,0-4.79,3.39,3.39,0,0,1,5.78,2.39A3.39,3.39,0,0,1,262.92,266Z" transform="translate(-162.58 -184.44)" /><path d="M180.12,251.06c2.58.85,7.25.61,10.42-.53l8.61-3.13v9l-1.71.28a56.28,56.28,0,0,1-26.83-2.16c-8.43-2.37-9.84-7.31-6-10.16,3.56-2.63,9.6-4.61,9.6-4.61l24.94-8.86V241l-18,6.43C178,248.61,177.55,250.22,180.12,251.06Z" transform="translate(-162.58 -184.44)" /><path d="M268.46,247.53c-2.09,2.64-7.19,4.52-7.19,4.52l-38,13.66V255.64l28-10c3.18-1.14,3.67-2.75,1.09-3.59s-7.25-.61-10.42.53l-18.66,6.57V238.72l1.07-.36a64.48,64.48,0,0,1,13-2.76,55.61,55.61,0,0,1,24.15,2.88C269.63,241.08,270.55,244.9,268.46,247.53Z" transform="translate(-162.58 -184.44)" /><path d="M226.85,230.38V204.62c0-3-.55-5.8-3.4-6.59-2.17-.71-3.51,1.32-3.51,4.34v64.51l-17.41-5.53V184.44a211.77,211.77,0,0,1,24,6.56c14.73,5.07,19.73,11.37,19.73,25.55C246.24,230.38,237.7,235.62,226.85,230.38Z" transform="translate(-162.58 -184.44)" /></g></svg></SvgIcon>
            },
            {
                label: 'Xbox',
                value: api.platform.pc,
                icon: <SvgIcon><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 497.9 498"><title>xboxOne</title><path className="cls-1" d="M1075.35,71.6l-.2.2h0a248.88,248.88,0,0,0-23.2,328c.3.4.9.7,1.3.4a1.06,1.06,0,0,0,.3-1.3c-19-58.7,78-201,128.2-260.6a.85.85,0,0,0-.1-1.5c-84.4-83.9-106.9-64.7-106.6-65" transform="translate(-1001.05 0)" /><path className="cls-1" d="M1424.75,71.6l.2.2h0a249,249,0,0,1,23.1,328c-.3.4-.9.7-1.3.4a1.21,1.21,0,0,1-.3-1.3c19-58.7-78-201.1-128.1-260.7a1,1,0,0,1-.4-.7.89.89,0,0,1,.5-.8c84.4-83.9,106.8-64.6,106.5-64.9" transform="translate(-1001.05 0)" /><path className="cls-1" d="M1250.05,0c50.2,0,91.6,13.8,129.7,36.4a.87.87,0,0,1,.4,1.2,1,1,0,0,1-1.2.4c-48.2-10.4-121.5,31.2-128.4,35.4-.2.1-.3.2-.5.2a.76.76,0,0,1-.5-.2c-18.4-10.6-86.1-46.1-128.8-35.1a1,1,0,0,1-1.2-.4.93.93,0,0,1,.4-1.2c38.1-22.9,80-36.7,130.1-36.7" transform="translate(-1001.05 0)" /><path className="cls-1" d="M1250.05,199.7a1.23,1.23,0,0,1,.8.4c74.5,56.7,202,196.7,163.1,236.3l.1-.1v.1h-.1a249,249,0,0,1-327.9,0l-.1-.1.1.1c-38.9-39.6,88.6-179.7,163.1-236.3a1.49,1.49,0,0,1,.9-.4" transform="translate(-1001.05 0)" /></svg></SvgIcon>
            }
        ]

    }

    handleChange(event, newValue) {
        if (newValue !== 'refresh') {
            this.setState({
                value: newValue
            });
            this.props.onChangeValue(newValue);
        } else {
            this.setState({
                value: this.props.default
            })
            this.props.onChangeValue('refresh');
        }
    }

    render() {
        return (
            <BottomNavigation value={this.state.value} onChange={(e, v) => this.handleChange(e, v)} >
                {
                    this.icons.map(({ label, value, icon }) => {
                        return <BottomNavigationAction key={value} label={label} value={value} icon={icon} />
                    })
                }
                <BottomNavigationAction label="Refresh" value='refresh' icon={<RestoreIcon />} />
            </BottomNavigation>
        )
    }
}
